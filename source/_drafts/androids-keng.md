title: 那些年遇到的Android的大大小小的坑
tags:[android,工具,坑]
---
开发了一段时间的Android之后，其实也会发现遇到大大小小的各种坑。有些坑是原生android里面自带的，而有些则是那些国产定制ROM乱改逻辑导致的。记录一下，以做提醒。

开发工具
-------------
Android的开发工具现在都推荐使用AndroidStudio了。官方现在也基本上不会推荐你用ADT了。不过想当初，在ADT上遇到的问题确实不少。
#### **更新** ####
1. 每次更新ADT必定要心惊胆战。仍然记得我第一次写Android的时候就遇到了一个ADT的坑，那个坑会导致我无法创建一个新的项目。那个时候的我懵懵懂懂，但在网上搜索之后就在stackoverflow上找到了解决方案。（想想那个时候我还是第一次知道有stackoverflow这么好的地方~）。  
前阵子更新ADT到23.0，然后呵呵呵呵，ADT整个不能用了，每次打开eclipse就弹窗说什么版本不对。好咧我更新一下，然后又呵呵呵呵了，验证失败。好了，更新不了，又没法恢复旧版本。最后只能重新找个新版本的ADT，再重新配置。记得当时在stackoverflow上有人说了，“每次更新ADT都会让人累感不爱”。嗯，我也这么觉得。  
上面提到了我换了新版本的ADT，然后我还是要大声呵呵呵呵一下。之前先调试NDK，没找到Native method这个工具。好吧，我去下载。然后呢，我竟然安！装！不！了！！这简直逆天了，明明是Android Studio不支持Native的开发和调试我才在ADT上做的，连NDK的插件都装不了，那那要我怎么做！！

#### **XML布局渲染** ####
关于这个，我只能说有时候请相信自己，不要只看ADT让你看到的。遇到过两个坑：
1. `Path.FillType`: 这是个bug。之前写某个太极的自定义控件时，用到了这个属性。按照自己的理解设置的属性是正确的，感觉应该也会是正确的结果。但是在ADT里面看到的始终不对劲。  
	最后用某种麻烦的方式实现了想要的结果，重新回来思考`FillType`的问题。写了个demo，发现无论我在代码里面设置了怎样的Type，ADT显示的画面都是一样的。我开始怀疑这是不是坑。我把之前太极的代码又按照自己的想法改了下。这次在ADT上显示不正确，但是在手机上跑到时候跟预期一样了。  
	后来去搜了一下android的issues，似乎没人提过这个bug。试着自己提一下，但是发现issues的类型里面没有ADT可以选，只有AS。难道我就这么放弃了么？不，我试着在AS里面还原同样的现象（我觉得他们应该还是没发现这个bug的），果然发现AS里面也有这个bug。于是我就名正言顺地提了个issues，隔天就收到邮件说这个issues已经被分配，且重要程度为高~感觉我学会了一种正确的提issues方式啊=。 =

2. 莫名其妙地乱套。之前写了一个布局文件，